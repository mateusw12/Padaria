{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/mateu/OneDrive/Documentos/Projeto Angular/Padaria/Padaria-APP/padaria-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { TemplateRef } from '@angular/core';\nimport { ViewRefreshService } from '../view-refresh/view-refresh.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"../view-refresh/view-refresh.service\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = [\"bodyTemplate\"];\nconst _c1 = [\"footerTemplate\"];\nconst _c2 = [\"modal\"];\nfunction ModalComponent_ng_template_0_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction ModalComponent_ng_template_0_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction ModalComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"h5\", 4);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ModalComponent_ng_template_0_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onCloseClick());\n    });\n    i0.ɵɵelementStart(6, \"span\", 6);\n    i0.ɵɵtext(7, \"X\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\", 7);\n    i0.ɵɵelement(9, \"hr\");\n    i0.ɵɵtemplate(10, ModalComponent_ng_template_0_ng_container_10_Template, 1, 0, \"ng-container\", 8);\n    i0.ɵɵelement(11, \"hr\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 9)(13, \"div\", 10);\n    i0.ɵɵtemplate(14, ModalComponent_ng_template_0_ng_container_14_Template, 1, 0, \"ng-container\", 8);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.modalHeader, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r1.bodyTemplate);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r1.footerTemplate);\n  }\n}\nexport class ModalComponent {\n  constructor(modalService, viewRefreshService) {\n    this.modalService = modalService;\n    this.viewRefreshService = viewRefreshService;\n    this.modalHeader = '';\n    this.closeButton = true;\n    this.closeEsc = true;\n    this.bodyClass = '';\n  }\n  ngOnInit() {}\n  open() {\n    return new Promise(resolve => {\n      this.viewRefreshService.refresh(300);\n      this.modalRef = this.modalService.open(this.modal, {\n        size: this.dialogClass ? this.dialogClass : 'md',\n        modalDialogClass: this.bodyClass,\n        backdrop: 'static',\n        scrollable: true\n      });\n      this.modalRef.result.then(resolve, resolve);\n    });\n  }\n  onCloseClick() {\n    if (!this.closeButton) return;\n    this.close();\n  }\n  onEscKeyDown() {\n    if (!this.closeEsc) return;\n    this.close();\n  }\n  close() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.modalService.dismissAll();\n    })();\n  }\n}\nModalComponent.ɵfac = function ModalComponent_Factory(t) {\n  return new (t || ModalComponent)(i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i2.ViewRefreshService, 2));\n};\nModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ModalComponent,\n  selectors: [[\"app-modal\"]],\n  contentQueries: function ModalComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      i0.ɵɵcontentQuery(dirIndex, _c0, 7);\n      i0.ɵɵcontentQuery(dirIndex, _c1, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.bodyTemplate = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.footerTemplate = _t.first);\n    }\n  },\n  viewQuery: function ModalComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c2, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modal = _t.first);\n    }\n  },\n  inputs: {\n    modalHeader: \"modalHeader\",\n    closeButton: \"closeButton\",\n    closeEsc: \"closeEsc\",\n    dialogClass: \"dialogClass\",\n    bodyClass: \"bodyClass\"\n  },\n  features: [i0.ɵɵProvidersFeature([ViewRefreshService])],\n  decls: 2,\n  vars: 0,\n  consts: [[\"modal\", \"\"], [1, \"modal-fade\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [4, \"ngTemplateOutlet\"], [1, \"align-footer-items\"], [1, \"modal-footer\"]],\n  template: function ModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ModalComponent_ng_template_0_Template, 15, 3, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    }\n  },\n  dependencies: [i3.NgTemplateOutlet],\n  styles: [\".modal-header {\\n  justify-content: flex-start;\\n  border: none;\\n  text-align: left;\\n  border: none;\\n}\\n\\n.modal-title {\\n  color: rgb(95, 92, 92);\\n  font-family: sans-serif;\\n}\\n\\n.modal-body {\\n  font-size: 0.875rem;\\n  border: none;\\n}\\n\\n.modal-footer {\\n  border-top: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGFsLmNvbXBvbmVudC5zY3NzIiwiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXFByb2pldG8lMjBBbmd1bGFyXFxQYWRhcmlhXFxQYWRhcmlhLUFQUFxccGFkYXJpYS1hcHBcXHNyY1xcYXBwXFxtb2R1bGVcXHNoYXJlZFxcc3JjXFxtb2RhbFxcbW9kYWwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwyQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLHNCQUFBO0VBQ0EsdUJBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7QUNDRiIsImZpbGUiOiJtb2RhbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tb2RhbC1oZWFkZXIge1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gIGJvcmRlcjogbm9uZTtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgYm9yZGVyOiBub25lO1xufVxuXG4ubW9kYWwtdGl0bGUge1xuICBjb2xvcjogcmdiKDk1LCA5MiwgOTIpO1xuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbn1cblxuLm1vZGFsLWJvZHkge1xuICBmb250LXNpemU6IDAuODc1cmVtO1xuICBib3JkZXI6IG5vbmU7XG59XG5cbi5tb2RhbC1mb290ZXIge1xuICBib3JkZXItdG9wOiBub25lO1xufVxuXG4iLCIubW9kYWwtaGVhZGVyIHtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBib3JkZXI6IG5vbmU7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGJvcmRlcjogbm9uZTtcbn1cblxuLm1vZGFsLXRpdGxlIHtcbiAgY29sb3I6IHJnYig5NSwgOTIsIDkyKTtcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG59XG5cbi5tb2RhbC1ib2R5IHtcbiAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgYm9yZGVyOiBub25lO1xufVxuXG4ubW9kYWwtZm9vdGVyIHtcbiAgYm9yZGVyLXRvcDogbm9uZTtcbn0iXX0= */\"],\n  encapsulation: 2\n});\nModalComponent.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ModalComponent,\n  factory: ModalComponent.ɵfac\n});","map":{"version":3,"mappings":";AAAA,SAOEA,WAAW,QAGN,eAAe;AAEtB,SAASC,kBAAkB,QAAQ,sCAAsC;;;;;;;;;;ICAjEC,wBACe;;;;;IAMbA,wBACe;;;;;;IAnBvBA,8BAAwB;IAI8BA,YAAe;IAAAA,iBAAK;IACpEA,iCAAgF;IAAzBA;MAAAA;MAAA;MAAA,OAASA,oCAAc;IAAA,EAAC;IAC7EA,+BAAyB;IAAAA,iBAAC;IAAAA,iBAAO;IAGrCA,8BAAwB;IACtBA,qBAAI;IACJA,iGACe;IACfA,sBAAI;IACNA,iBAAM;IAENA,+BAAgC;IAE5BA,iGACe;IACjBA,iBAAM;;;;IAhB0CA,eAAe;IAAfA,kDAAe;IAOhDA,eAA+B;IAA/BA,sDAA+B;IAO7BA,eAAiC;IAAjCA,wDAAiC;;;ADG1D,OAAM,MAAOC,cAAc;EA2BzBC,YACUC,YAAsB,EACdC,kBAAsC;IAD9C,iBAAY,GAAZD,YAAY;IACJ,uBAAkB,GAAlBC,kBAAkB;IA3BpC,gBAAW,GAAW,EAAE;IAGxB,gBAAW,GAAG,IAAI;IAGlB,aAAQ,GAAG,IAAI;IAMf,cAAS,GAAW,EAAE;EAgBnB;EAEHC,QAAQ,IAAU;EAElBC,IAAI;IACF,OAAO,IAAIC,OAAO,CAAWC,OAAO,IAAI;MACtC,IAAI,CAACJ,kBAAkB,CAACK,OAAO,CAAC,GAAG,CAAC;MACpC,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACP,YAAY,CAACG,IAAI,CAAC,IAAI,CAACK,KAAK,EAAE;QACjDC,IAAI,EAAE,IAAI,CAACC,WAAW,GAAG,IAAI,CAACA,WAAW,GAAG,IAAI;QAChDC,gBAAgB,EAAE,IAAI,CAACC,SAAS;QAChCC,QAAQ,EAAE,QAAQ;QAClBC,UAAU,EAAE;OACb,CAAC;MACF,IAAI,CAACP,QAAQ,CAACQ,MAAM,CAACC,IAAI,CAACX,OAAO,EAAEA,OAAO,CAAC;IAC7C,CAAC,CAAC;EACJ;EAEAY,YAAY;IACV,IAAI,CAAC,IAAI,CAACC,WAAW,EAAE;IACvB,IAAI,CAACC,KAAK,EAAE;EACd;EAEAC,YAAY;IACV,IAAI,CAAC,IAAI,CAACC,QAAQ,EAAE;IACpB,IAAI,CAACF,KAAK,EAAE;EACd;EAEcA,KAAK;IAAA;IAAA;MACjB,KAAI,CAACnB,YAAY,CAACsB,UAAU,EAAE;IAAC;EACjC;;;mBA3DWxB,cAAc;AAAA;;QAAdA,cAAc;EAAAyB;EAAAC;IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;mCAJd,CAAC5B,kBAAkB,CAAC;EAAA6B;EAAAC;EAAAC;EAAAC;IAAA;MClBjC/B,iHAyBc;;;;;;;;SDHDC,cAAc;EAAA+B,SAAd/B,cAAc;AAAA","names":["TemplateRef","ViewRefreshService","i0","ModalComponent","constructor","modalService","viewRefreshService","ngOnInit","open","Promise","resolve","refresh","modalRef","modal","size","dialogClass","modalDialogClass","bodyClass","backdrop","scrollable","result","then","onCloseClick","closeButton","close","onEscKeyDown","closeEsc","dismissAll","selectors","contentQueries","decls","vars","consts","template","factory"],"sourceRoot":"","sources":["C:\\Users\\mateu\\OneDrive\\Documentos\\Projeto Angular\\Padaria\\Padaria-APP\\padaria-app\\src\\app\\module\\shared\\src\\modal\\modal.component.ts","C:\\Users\\mateu\\OneDrive\\Documentos\\Projeto Angular\\Padaria\\Padaria-APP\\padaria-app\\src\\app\\module\\shared\\src\\modal\\modal.component.html"],"sourcesContent":["import {\n  Component,\n  ContentChild,\n  Injectable,\n  Input,\n  OnInit,\n  Self,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { ViewRefreshService } from '../view-refresh/view-refresh.service';\n\n@Component({\n  selector: 'app-modal',\n  templateUrl: './modal.component.html',\n  styleUrls: ['./modal.component.scss'],\n  providers: [ViewRefreshService],\n  encapsulation: ViewEncapsulation.None,\n})\n@Injectable()\nexport class ModalComponent implements OnInit {\n  @Input()\n  modalHeader: string = '';\n\n  @Input()\n  closeButton = true;\n\n  @Input()\n  closeEsc = true;\n\n  @Input()\n  dialogClass: string | undefined;\n\n  @Input()\n  bodyClass: string = '';\n\n  @ViewChild('modal')\n  private modal!: TemplateRef<ModalComponent>;\n\n  @ContentChild('bodyTemplate', { static: true })\n  bodyTemplate: TemplateRef<any> | undefined | null;\n\n  @ContentChild('footerTemplate', { static: true })\n  footerTemplate: TemplateRef<any> | undefined | null;\n\n  private modalRef!: NgbModalRef;\n\n  constructor(\n    private modalService: NgbModal,\n    @Self() private viewRefreshService: ViewRefreshService\n  ) {}\n\n  ngOnInit(): void {}\n\n  open(): Promise<boolean> {\n    return new Promise<boolean>((resolve) => {\n      this.viewRefreshService.refresh(300);\n      this.modalRef = this.modalService.open(this.modal, {\n        size: this.dialogClass ? this.dialogClass : 'md',\n        modalDialogClass: this.bodyClass,\n        backdrop: 'static',\n        scrollable: true,\n      });\n      this.modalRef.result.then(resolve, resolve);\n    });\n  }\n\n  onCloseClick(): void {\n    if (!this.closeButton) return;\n    this.close();\n  }\n\n  onEscKeyDown(): void {\n    if (!this.closeEsc) return;\n    this.close();\n  }\n\n  private async close(): Promise<void> {\n    this.modalService.dismissAll();\n  }\n}\n","<ng-template #modal let-modal>\n  <div class=\"modal-fade\">\n    <div class=\"modal-content\">\n\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"modal-basic-title\"> {{modalHeader}}</h5>\n        <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"onCloseClick()\">\n          <span aria-hidden=\"true\">X</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <hr>\n        <ng-container *ngTemplateOutlet=\"bodyTemplate!\">\n        </ng-container>\n        <hr>\n      </div>\n\n      <div class=\"align-footer-items\">\n        <div class=\"modal-footer\">\n          <ng-container *ngTemplateOutlet=\"footerTemplate!\">\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-template>\n"]},"metadata":{},"sourceType":"module"}